@model IEnumerable<DemoDB2.Models.Spa>
@{
    ViewBag.Title = "Danh Sách Dịch Vụ Spa";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="~/Content/ViewSpaKH.css" />

<div class="container-fluid mt-5">
    <div class="row mb-5">
        <div class="col-md-12 text-center">
            <h1 class="display-4 text-primary mb-3">
                <i class="fas fa-spa mr-3"></i>Dịch Vụ Spa Cao Cấp
            </h1>
            <p class="lead text-black">Khám phá và trải nghiệm dịch vụ spa tuyệt vời của chúng tôi</p>
        </div>
    </div>

    <div class="row justify-content-center">
        @{
            var itemCount = 0;
            foreach (var item in Model)
            {
                if (itemCount % 4 == 0 && itemCount != 0)
                {
                @:</div><div class="row justify-content-center">
                }
                <div class="col-md-3 mb-4">
                    <div class="card h-100 shadow hover-card">
                        <div class="image-container">
                            <img src="@Url.Content(item.ImageSpa)" alt="@item.TenDichVu" class="card-img-top">
                            <div class="price-tag">@string.Format("{0:N0} VNĐ", item.GiaDichVu)</div>
                        </div>
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title text-primary mb-3">@item.TenDichVu</h5>
                            <p class="card-text text-muted flex-grow-1">
                                @(item.MoTa?.Length > 150 ? item.MoTa.Substring(0, 150) + "..." : item.MoTa)
                            </p>
                            <div class="service-details mt-3">
                                <span class="badge badge-light mr-2">
                                    <i class="far fa-clock mr-1"></i>@item.ThoiGianDichVu phút
                                </span>
                            </div>
                        </div>
                        <div class="card-footer bg-transparent border-0">
                            <button class="btn btn-outline-primary btn-block book-now">Đặt Ngay</button>
                        </div>
                    </div>
                </div>
                itemCount++;
            }
        }
    </div>
    <br /><br /><br />
</div>

<style>
    body {
        background-color: #f8f9fa;
        font-family: 'Roboto', sans-serif;
        background-image: url('https://c0.wallpaperflare.com/preview/773/289/258/plant-leaf-overgrown-wall.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        z-index: -1;
    }

    .card {
        transition: transform 0.3s;
    }

        .card:hover {
            transform: translateY(-5px);
        }

    .image-container {
        position: relative;
        overflow: hidden;
    }

    .price-tag {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: rgba(0, 123, 255, 0.8);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-weight: bold;
    }

    .card-img-top {
        height: 200px;
        object-fit: cover;
    }

    .book-now {
        transition: all 0.3s;
    }

        .book-now:hover {
            background-color: #0056b3;
            color: white;
        }
</style>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('.book-now').on('click', function () {
                // Xử lý logic đặt dịch vụ ở đây
                alert('Chức năng đặt dịch vụ đang được phát triển!');
            });
        });
    </script>
}